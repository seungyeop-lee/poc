# 명세서 (Specification)

## 요구사항 정의

### 핵심 목표

Sharp를 이용한 텍스트 오버레이 작업의 실시간 프리뷰 및 설정 조정이 가능한 웹 페이지 구현

### 필수 기능

- 템플릿 이미지 파일 업로드 기능
- 텍스트 입력 기능
- CouponEmbeddingSettings 인터페이스 기반 설정값 입력 UI
  - left (텍스트 시작 X 좌표, 픽셀, 기본값: 0)
  - top (텍스트 시작 Y 좌표, 픽셀, 기본값: 0)
  - fontSize (폰트 크기, 픽셀, 기본값: 24)
  - fontColor (폰트 색상, 기본값: '#000000')
  - fontFamily (폰트 패밀리, 기본값: 'Arial')
  - fontWeight (폰트 굵기, 기본값: 'normal')
- 설정값 기반 텍스트 오버레이 실시간 프리뷰
- 드래그 앤 드롭으로 텍스트 위치 이동 시 left, top 값 자동 업데이트
- Sharp를 이용한 서버 측 이미지 처리

## 작업 범위

### 포함 사항

- Node.js 기반 백엔드 서버 구현
- Sharp 라이브러리를 이용한 이미지 오버레이 처리
- React 기반 웹 프론트엔드 UI 구현
- 이미지 업로드 처리
- 텍스트 설정 입력 폼
- 캔버스 또는 이미지 기반 드래그 앤 드롭 인터랙션
- 설정값과 프리뷰 간 양방향 동기화
- 서버 측 Sharp를 통한 프리뷰 이미지 생성
- 이미지 저장 또는 다운로드 기능

### 제외 사항

- 다중 텍스트 레이어 지원 (명시되지 않음)
- 사용자 인증 또는 세션 관리 (명시되지 않음)
- 데이터베이스 연동 (명시되지 않음)

## 제약사항

### 기술적 제약사항

- Node.js의 Sharp 라이브러리 사용 필수
- CouponEmbeddingSettings 인터페이스 구조 준수
- React 프레임워크 사용
- 서버 측에서 프리뷰 업데이트 처리
- 지원 이미지 포맷: JPEG, PNG, WebP
- 시스템 폰트만 사용 (폰트 업로드 불가)

## 완료 기준

### 기능 완료 기준

- 템플릿 이미지를 업로드하면 화면에 표시됨
- 텍스트 및 설정값 입력 시 실시간으로 오버레이 프리뷰가 업데이트됨
- 프리뷰 화면에서 텍스트를 드래그하여 이동 시 left, top 값이 자동으로 변경됨
- 모든 CouponEmbeddingSettings 속성(left, top, fontSize, fontColor, fontFamily, fontWeight)이 프리뷰에 반영됨
- Sharp를 통해 생성된 최종 이미지가 올바르게 렌더링됨

### 품질 완료 기준

- 드래그 앤 드롭 인터랙션이 부드럽고 직관적으로 동작함
- 설정값 변경 시 프리뷰가 즉시 반영됨 (레이턴시 최소화)
- 지원 이미지 포맷(JPEG, PNG, WebP)에서 정상 동작함
- UI가 직관적이고 사용하기 쉬움

## 미해결 사항

없음